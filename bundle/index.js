module.exports=function(t,e){"use strict";var n={};function __webpack_require__(e){if(n[e]){return n[e].exports}var i=n[e]={i:e,l:false,exports:{}};var o=true;try{t[e].call(i.exports,i,i.exports,__webpack_require__);o=false}finally{if(o)delete n[e]}i.l=true;return i.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(144)}return startup()}({23:function(t,e,n){const i=n(622);const o={"{":"}","(":")","[":"]"};const r=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\)|(\\).|([@?!+*]\(.*\)))/;const s=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;function isglob(t,{strict:e=true}={}){if(t==="")return false;let n,i=e?r:s;while(n=i.exec(t)){if(n[2])return true;let e=n.index+n[0].length;let i=n[1];let r=i?o[i]:null;if(i&&r){let n=t.indexOf(r,e);if(n!==-1)e=n+1}t=t.slice(e)}return false}function parent(t,{strict:e=false}={}){t=i.normalize(t).replace(/\/|\\/,"/");if(/[\{\[].*[\/]*.*[\}\]]$/.test(t))t+="/";t+="a";do{t=i.dirname(t)}while(isglob(t,{strict:e})||/(^|[^\\])([\{\[]|\([^\)]+$)/.test(t));return t.replace(/\\([\*\?\|\[\]\(\)\{\}])/g,"$1")}function globalyzer(t,e={}){let n=parent(t,e);let o=isglob(t,e);let r;if(n!="."){r=t.substr(n.length);if(r.startsWith("/"))r=r.substr(1)}else{r=t}if(!o){n=i.dirname(t);r=n!=="."?t.substr(n.length):t}if(r.startsWith("./"))r=r.substr(2);if(r.startsWith("/"))r=r.substr(1);return{base:n,glob:r,isGlob:o}}t.exports=globalyzer},50:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});class Conditional{constructor(t,e,n){this.filePath=t;this.lineNumber=e;this.columnNumber=n}static newInstance(t,e,n){return new Conditional(t,e,n)}getFilePath(){return this.filePath}getLineNumber(){return this.lineNumber}getColumnNumber(){return this.columnNumber}}e.default=Conditional},87:function(t){t.exports=require("os")},144:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){if(i===undefined)i=n;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[n]}})}:function(t,e,n,i){if(i===undefined)i=n;t[i]=e[n]});var o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)if(n!=="default"&&Object.prototype.hasOwnProperty.call(t,n))i(e,t,n);o(e,t);return e};var s=this&&this.__awaiter||function(t,e,n,i){function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i["throw"](t))}catch(t){o(t)}}function step(t){t.done?n(t.value):adopt(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())})};var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const a=r(n(186));const c=u(n(834));const l=u(n(719));function run(){return s(this,void 0,void 0,function*(){try{const t=a.getInput("include").split(" ");const e=a.getInput("exclude").split(" ");const n=a.getInput("conditionalLayer").split(" ");const i=Number.parseInt(a.getInput("max"));console.log("include");console.log(t);console.log("exclude");console.log(e);console.log("conditionalLayer");console.log(n);console.log("max");console.log(i);const o=yield(new l.default).getPaths(t,e);o.forEach(t=>{const e=new c.default(t);const n=e.getConditionals().map(t=>`\n - ln:${t.getLineNumber()}, col:${t.getColumnNumber()}`).join("");console.log(`${t}:${n}`)})}catch(t){a.setFailed(t.message)}})}run()},186:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i["throw"](t))}catch(t){o(t)}}function step(t){t.done?n(t.value):adopt(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())})};var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)if(Object.hasOwnProperty.call(t,n))e[n]=t[n];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const r=n(351);const s=o(n(87));const u=o(n(622));var a;(function(t){t[t["Success"]=0]="Success";t[t["Failure"]=1]="Failure"})(a=e.ExitCode||(e.ExitCode={}));function exportVariable(t,e){const n=r.toCommandValue(e);process.env[t]=n;r.issueCommand("set-env",{name:t},n)}e.exportVariable=exportVariable;function setSecret(t){r.issueCommand("add-mask",{},t)}e.setSecret=setSecret;function addPath(t){r.issueCommand("add-path",{},t);process.env["PATH"]=`${t}${u.delimiter}${process.env["PATH"]}`}e.addPath=addPath;function getInput(t,e){const n=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!n){throw new Error(`Input required and not supplied: ${t}`)}return n.trim()}e.getInput=getInput;function setOutput(t,e){r.issueCommand("set-output",{name:t},e)}e.setOutput=setOutput;function setCommandEcho(t){r.issue("echo",t?"on":"off")}e.setCommandEcho=setCommandEcho;function setFailed(t){process.exitCode=a.Failure;error(t)}e.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}e.isDebug=isDebug;function debug(t){r.issueCommand("debug",{},t)}e.debug=debug;function error(t){r.issue("error",t instanceof Error?t.toString():t)}e.error=error;function warning(t){r.issue("warning",t instanceof Error?t.toString():t)}e.warning=warning;function info(t){process.stdout.write(t+s.EOL)}e.info=info;function startGroup(t){r.issue("group",t)}e.startGroup=startGroup;function endGroup(){r.issue("endgroup")}e.endGroup=endGroup;function group(t,e){return i(this,void 0,void 0,function*(){startGroup(t);let n;try{n=yield e()}finally{endGroup()}return n})}e.group=group;function saveState(t,e){r.issueCommand("save-state",{name:t},e)}e.saveState=saveState;function getState(t){return process.env[`STATE_${t}`]||""}e.getState=getState},343:function(t,e,n){const i=n(747);const o=n(927);const{promisify:r}=n(669);const s=n(23);const{join:u,resolve:a,relative:c}=n(622);const l=/(^|[\\\/])\.[^\\\/\.]/g;const d=r(i.readdir);const f=r(i.stat);let p={};async function walk(t,e,n,o,r="",s=0){const a=n.segments[s];const f=u(o.cwd,e,r);const h=await d(f);const{dot:g,filesOnly:m}=o;let _=0,w=h.length,b;let v,y,x,C;for(;_<w;_++){v=u(f,b=h[_]);y=r?u(r,b):b;if(!g&&l.test(y))continue;C=n.regex.test(y);if((x=p[y])===void 0){p[y]=x=i.lstatSync(v)}if(!x.isDirectory()){C&&t.push(c(o.cwd,v));continue}if(a&&!a.test(b))continue;!m&&C&&t.push(u(e,y));await walk(t,e,n,o,y,a&&a.toString()!==n.globstar&&++s)}}t.exports=async function(t,e={}){if(!t)return[];let n=s(t);e.cwd=e.cwd||".";if(!n.isGlob){try{let n=a(e.cwd,t);let i=await f(n);if(e.filesOnly&&!i.isFile())return[];return e.absolute?[n]:[t]}catch(t){if(t.code!="ENOENT")throw t;return[]}}if(e.flush)p={};let i=[];const{path:r}=o(n.glob,{filepath:true,globstar:true,extended:true});r.globstar=r.globstar.toString();await walk(i,n.base,r,e,".",0);return e.absolute?i.map(t=>a(e.cwd,t)):i}},351:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)if(Object.hasOwnProperty.call(t,n))e[n]=t[n];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const o=i(n(87));function issueCommand(t,e,n){const i=new Command(t,e,n);process.stdout.write(i.toString()+o.EOL)}e.issueCommand=issueCommand;function issue(t,e=""){issueCommand(t,{},e)}e.issue=issue;const r="::";class Command{constructor(t,e,n){if(!t){t="missing.command"}this.command=t;this.properties=e;this.message=n}toString(){let t=r+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let e=true;for(const n in this.properties){if(this.properties.hasOwnProperty(n)){const i=this.properties[n];if(i){if(e){e=false}else{t+=","}t+=`${n}=${escapeProperty(i)}`}}}}t+=`${r}${escapeData(this.message)}`;return t}}function toCommandValue(t){if(t===null||t===undefined){return""}else if(typeof t==="string"||t instanceof String){return t}return JSON.stringify(t)}e.toCommandValue=toCommandValue;function escapeData(t){return toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(t){return toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},406:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i["throw"](t))}catch(t){o(t)}}function step(t){t.done?n(t.value):adopt(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())})};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const r=o(n(343));class GlobHandler{getPaths(t){return i(this,void 0,void 0,function*(){return yield r.default(t,{filesOnly:true})})}}e.default=GlobHandler},580:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});class PositionCalculator{constructor(t){this.data=t}getPositionData(t){return{line:this.getLineNumber(t),column:this.getColumnNumber(t)}}getLineNumber(t){return t?this.data.slice(0,t).split("\n").length:1}getColumnNumber(t){let e=this.data.slice(0,t).lastIndexOf("\n",t-1);if(e<0)return t+1;return t-e}}e.default=PositionCalculator},622:function(t){t.exports=require("path")},669:function(t){t.exports=require("util")},719:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i["throw"](t))}catch(t){o(t)}}function step(t){t.done?n(t.value):adopt(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())})};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const r=o(n(406));class FileRetriever{constructor(){this.filePaths=[];this.globHandler=new r.default}getPaths(t,e=[]){return i(this,void 0,void 0,function*(){this.filePaths=this.getDifference(yield this.getFilePaths(t),yield this.getFilePaths(e));return new Promise(t=>t(this.filePaths))})}getFilePaths(t){return i(this,void 0,void 0,function*(){let e=[];for(let n=0;n<t.length;n++)e=e.concat(yield this.globHandler.getPaths(t[n]));return this.deduplicate(e)})}getDifference(t,e){return t.filter(t=>!e.includes(t))}deduplicate(t){return[...new Set(t)]}}e.default=FileRetriever},747:function(t){t.exports=require("fs")},834:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const o=i(n(50));const r=n(747);const s=i(n(580));class ConditionalDetector{constructor(t){this.currentMatch=null;this.conditionals=[];this.filePath=t;this.fileContent=r.readFileSync(t).toString();this.positionCalculator=new s.default(this.fileContent);this.findConditionals()}getConditionals(){return this.conditionals}findConditionals(){this.currentMatch=ConditionalDetector.IF_REG_EX.exec(this.fileContent);this.loopThroughConditionalMatches()}loopThroughConditionalMatches(){while(this.currentMatch!==null){this.handleMatch(this.currentMatch);this.setCurrentMatchToNextMatch()}}handleMatch(t){if(t[1]){this.addConditionalAt(t.index+t[0].indexOf("if"))}}addConditionalAt(t){const e=this.positionCalculator.getPositionData(t);this.conditionals.push(o.default.newInstance(this.filePath,e.line,e.column))}setCurrentMatchToNextMatch(){this.currentMatch=ConditionalDetector.IF_REG_EX.exec(this.fileContent)}}e.default=ConditionalDetector;ConditionalDetector.IF_REG_EX=/((?:[ \t]|^)if ?\()|(\/\*[\s\S]*?\*\/|\/\/.*)/gm},927:function(t){const e=process.platform==="win32";const n=e?`\\\\+`:`\\/`;const i=e?`\\\\`:`/`;const o=`((?:[^/]*(?:/|$))*)`;const r=`([^/]*)`;const s=`((?:[^${i}]*(?:${i}|$))*)`;const u=`([^${i}]*)`;function globrex(t,{extended:e=false,globstar:i=false,strict:a=false,filepath:c=false,flags:l=""}={}){let d="";let f="";let p={regex:"",segments:[]};let h=false;let g=false;const m=[];function add(t,{split:e,last:i,only:o}={}){if(o!=="path")d+=t;if(c&&o!=="regex"){p.regex+=t==="\\/"?n:t;if(e){if(i)f+=t;if(f!==""){if(!l.includes("g"))f=`^${f}$`;p.segments.push(new RegExp(f,l))}f=""}else{f+=t}}}let _,w;for(let n=0;n<t.length;n++){_=t[n];w=t[n+1];if(["\\","$","^",".","="].includes(_)){add(`\\${_}`);continue}if(_==="/"){add(`\\${_}`,{split:true});if(w==="/"&&!a)d+="?";continue}if(_==="("){if(m.length){add(_);continue}add(`\\${_}`);continue}if(_===")"){if(m.length){add(_);let t=m.pop();if(t==="@"){add("{1}")}else if(t==="!"){add("([^/]*)")}else{add(t)}continue}add(`\\${_}`);continue}if(_==="|"){if(m.length){add(_);continue}add(`\\${_}`);continue}if(_==="+"){if(w==="("&&e){m.push(_);continue}add(`\\${_}`);continue}if(_==="@"&&e){if(w==="("){m.push(_);continue}}if(_==="!"){if(e){if(g){add("^");continue}if(w==="("){m.push(_);add("(?!");n++;continue}add(`\\${_}`);continue}add(`\\${_}`);continue}if(_==="?"){if(e){if(w==="("){m.push(_)}else{add(".")}continue}add(`\\${_}`);continue}if(_==="["){if(g&&w===":"){n++;let e="";while(t[++n]!==":")e+=t[n];if(e==="alnum")add("(\\w|\\d)");else if(e==="space")add("\\s");else if(e==="digit")add("\\d");n++;continue}if(e){g=true;add(_);continue}add(`\\${_}`);continue}if(_==="]"){if(e){g=false;add(_);continue}add(`\\${_}`);continue}if(_==="{"){if(e){h=true;add("(");continue}add(`\\${_}`);continue}if(_==="}"){if(e){h=false;add(")");continue}add(`\\${_}`);continue}if(_===","){if(h){add("|");continue}add(`\\${_}`);continue}if(_==="*"){if(w==="("&&e){m.push(_);continue}let a=t[n-1];let c=1;while(t[n+1]==="*"){c++;n++}let l=t[n+1];if(!i){add(".*")}else{let t=c>1&&(a==="/"||a===undefined)&&(l==="/"||l===undefined);if(t){add(o,{only:"regex"});add(s,{only:"path",last:true,split:true});n++}else{add(r,{only:"regex"});add(u,{only:"path"})}}continue}add(_)}if(!l.includes("g")){d=`^${d}$`;f=`^${f}$`;if(c)p.regex=`^${p.regex}$`}const b={regex:new RegExp(d,l)};if(c){p.segments.push(new RegExp(f,l));p.regex=new RegExp(p.regex,l);p.globstar=new RegExp(!l.includes("g")?`^${s}$`:s,l);b.path=p}return b}t.exports=globrex}});